<html>

<head>
    
    <title>Pixel Avatar Generator</title>

    <script>
    
    window.onload = function ()
        {

        // BODY
        var pixelbody = new Image();
        var pixelbodynum=Math.floor(Math.random()*12)+1; // change '12' to whatever number of body files you have
        var pixelbodyname="body" + pixelbodynum + ".png";
        pixelbody.src=pixelbodyname;

        // EYES
        var pixeleyes = new Image();
        var pixeleyesnum=Math.floor(Math.random()*12)+1; // change '12' to whatever number of eyes files you have
        var pixeleyesname="eyes" + pixeleyesnum + ".png";
        pixeleyes.src=pixeleyesname;

        // BODY LOADED
        pixelbody.onload=function()
        {
            buildavatar();
        }

        // EYES LOADED
        pixeleyes.onload=function()
        {
            buildavatar();
        }

        function buildavatar()
        {
        var canvas=document.getElementById('canvas');
        var ctx = canvas.getContext('2d');
        canvas.width=256;
        canvas.height=256;

        //DRAW BODY
        ctx.drawImage(pixelbody,((256-pixelbody.width)/2),0);
        //DRAW EYES
        ctx.drawImage(pixeleyes,((256-pixeleyes.width)/2),0);

        }

    }

    </script>

</head>

<body>

    <div align="center">  
        
<canvas id="canvas" style="border:5px solid #000000;">
</canvas>
<br><br>
<button onClick="window.location.reload();">Generate!</button>

    </div>
    
</body>

</html>